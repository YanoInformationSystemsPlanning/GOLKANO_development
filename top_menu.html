<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-store" />
  <title>GOLKANO トップメニュー</title>

  <!-- PWA関連（必要なら既存の manifest / アイコンを流用） -->
  <link rel="manifest" href="manifest.json" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="GOLKANO" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <style>
    body { margin:0; padding:0; font-family:sans-serif; background:#f5f5f5; text-align:center; }
    .version-label { position:fixed; top:5px; left:10px; font-size:14px; color:#555; font-weight:bold; }
    .header-area { display:flex; align-items:center; justify-content:center; margin-top:20px; gap:10px; padding:0 10px; }
    .logo { height:1.5em; width:auto; flex-shrink:0; }
    @media (max-width:480px){ .logo{ height:1.2em; } }
    #userInfo { margin-top:8px; color:#444; font-size:14px; }
    .menu-button {
      display:block; margin:15px auto; padding:15px 30px; font-size:18px;
      border:none; border-radius:8px; background:#4CAF50; color:#fff; cursor:pointer; width:250px;
    }
    .menu-button:hover { background:#45a049; }
    .admin-button { background:#d9534f; }
    .admin-button:hover {background: #c9302c; }
    #topButton {
      margin-top:10px; padding:8px 16px; font-size:14px; background:#2196F3; color:#fff; border:none; border-radius:5px; cursor:pointer;
    }
  </style>
</head>
<body>
  <button id="topButton" onclick="location.href='index.html'">ログインに戻る</button>
  <div class="version-label">Ver.20250903</div>

  <div class="header-area">
    <img src="GOLKANO.ロゴ.png" alt="GOLKANO ロゴ" class="logo" />
    <div id="userTypeLabel">トップメニュー</div>
  </div>
  <div id="userInfo"></div>

  <div id="menuArea" style="margin-top:10px;"></div>

  <script>
    (function init() {
      const name = localStorage.getItem("userName") || "";
      const role = (localStorage.getItem("userRole") || "regular").toLowerCase();

      // 未ログインならログインへ戻す
      if (!name) {
        location.href = "index.html";
        return;
      }

      // 画面上の表示
      document.getElementById("userInfo").textContent = `ログイン中：${name}（${role}）`;
      const label = (role === "admin") ? "管理者メニュー" : "業務メニュー";
      document.getElementById("userTypeLabel").textContent = label;

      // メニュー出し分け
      const area = document.getElementById("menuArea");
      if (role === "admin") {
        area.innerHTML = `
          <button class="menu-button admin-button" onclick="location.href='input_data_uploader.html'">シフト希望確認準備</button>
          <button class="menu-button" onclick="location.href='shift_adjustment_survey.html'">シフト希望</button>
          <!-- 追加：シフト表示（シフト希望ボタン直下・同じ属性/挙動。起動先のみ変更） -->
          <button class="menu-button" onclick="location.href='shift_information_display.html'">シフト表示</button>
          <button class="menu-button admin-button" onclick="location.href='shift_aggregate.html'">シフト希望集約</button>
          <button class="menu-button admin-button" onclick="location.href='job_informarion_generator.html'">業務連絡生成</button>
          <button class="menu-button admin-button" onclick="location.href='ranking_tool.html'">優先順位決め</button>
        `;
      } else {
        area.innerHTML = `
          <button class="menu-button" onclick="location.href='shift_adjustment_survey.html'">シフト希望</button>
          <!-- 追加：シフト表示（一般ユーザ向け。シフト希望の直下） -->
          <button class="menu-button" onclick="location.href='shift_information_display.html'">シフト表示</button>
        `;
      }
    })();
  </script>
  <script src="reload.js?v=20250724"></script>
</body>
</html>


